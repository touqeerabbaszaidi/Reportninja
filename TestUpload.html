<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
     <script type="text/javascript" charset="utf-8" src="cordova-2.7.0.js"></script>
    <script src="JS/jquery-1.8.3.js"></script>
    <script type="text/javascript" src="js/jquery.Storage.js" ></script>
 
   
    <script type="text/javascript" charset="utf-8">
        document.addEventListener("deviceready", onDeviceReady, false);
        function onDeviceReady() {
                 alert("yes");
            navigator.camera.getPicture(uploadPhoto,
                                           function (message) { alert('get picture failed'); },
                                           {
                                               quality: 50,
                                               destinationType: navigator.camera.DestinationType.FILE_URI,
                                               sourceType: navigator.camera.PictureSourceType.PHOTOLIBRARY
                                           }
                                           );
        }
        function uploadPhoto(imageURI) {
        alert("upload");
        alert(imageURI);
            var options = new FileUploadOptions();
            options.fileKey = "file";
            options.fileName = imageURI.substr(imageURI.lastIndexOf('/') + 1);
            options.mimeType = "image/jpeg";
          
            var params = new Object();
            params.value1 = "test";
            params.value2 = "param";

            options.params = params;

            var ft = new FileTransfer();
            alert("transfer");
            ft.upload(imageURI, "http://projectxmobile.2bvision.com/upload.php", win, fail, options);
        }

        function win(r) {
            alert("Uploaded");
        }

        function fail(error) {
            alert("An error has occurred: Code = " = error.code);
        }
    </script>
</head>

<body>
     <h1>Example</h1>
    <p>Local File System</p>
</body>
</html>
